<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blok 0 — Micro-instructie + Interactieve oefeningen | Workshop Onderzoekend Vermogen</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
  <style>
    /* ===== Poster template ===== */
    .poster {
      aspect-ratio: 1.414 / 1;
      max-width: 960px;
      margin: 0 auto;
      background: #fdf8ef;
      border: 3px solid #c4a96a;
      border-radius: 6px;
      padding: 1.75rem 2rem;
      display: flex;
      flex-direction: column;
      gap: 0;
      box-shadow: 2px 3px 12px rgba(120,100,60,0.12);
      font-size: 0.95rem;
    }
    .poster-header {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .poster-field {
      font-size: 0.85rem;
      color: #6b5c3e;
      font-weight: 600;
    }
    .poster-field .dots {
      color: #c4a96a;
      letter-spacing: 2px;
    }

    /* Onderzoeksvraag */
    .poster-vraag {
      border: 2.5px dashed #1e3a5f;
      border-radius: 10px;
      padding: 1rem 1.25rem;
      margin-bottom: 1rem;
      min-height: 70px;
      background: rgba(255,255,255,0.5);
      flex-shrink: 0;
    }
    .poster-vraag-label {
      font-weight: 700;
      font-size: 1rem;
      color: #1e3a5f;
      margin-bottom: 0.4rem;
    }
    .poster-vraag-hint {
      color: #94a3b8;
      font-style: italic;
      font-size: 0.85rem;
    }

    /* Sectie-labels */
    .poster-sectie-label {
      font-weight: 700;
      font-size: 0.8rem;
      color: #6b5c3e;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.4rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .poster-sectie-label .blok-tag {
      background: #1e3a5f;
      color: #fff;
      font-size: 0.65rem;
      padding: 0.1rem 0.45rem;
      border-radius: 4px;
      font-weight: 600;
      text-transform: none;
      letter-spacing: 0;
    }

    /* Bronnen grid */
    .poster-bronnen {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }
    .poster-bron {
      border: 2px dashed #c4a96a;
      border-radius: 8px;
      padding: 0.75rem 0.85rem;
      background: rgba(255,255,255,0.4);
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .poster-bron-nr {
      font-weight: 700;
      font-size: 0.9rem;
      color: #1e3a5f;
    }
    .poster-regel {
      border-bottom: 1.5px dotted #c4a96a;
      padding-bottom: 0.35rem;
      font-size: 0.8rem;
      color: #6b5c3e;
      font-weight: 500;
      flex: 1;
      min-height: 1.4em;
    }
    .poster-regel:last-child {
      border-bottom: none;
    }
    .poster-regel em {
      font-style: normal;
      color: #94a3b8;
    }

    /* Onderste rij: inzichten + reflectie */
    .poster-bottom {
      display: grid;
      grid-template-columns: 3fr 2fr;
      gap: 0.75rem;
      flex-shrink: 0;
    }
    .poster-box {
      border: 2px dashed #c4a96a;
      border-radius: 8px;
      padding: 0.75rem 0.85rem;
      background: rgba(255,255,255,0.4);
      min-height: 60px;
    }
    .poster-box-label {
      font-weight: 700;
      font-size: 0.85rem;
      color: #1e3a5f;
      margin-bottom: 0.3rem;
    }
    .poster-box-hint {
      color: #94a3b8;
      font-size: 0.8rem;
      font-style: italic;
    }

    @media (max-width: 700px) {
      .poster {
        aspect-ratio: auto;
        padding: 1rem;
        font-size: 0.85rem;
      }
      .poster-bronnen {
        grid-template-columns: 1fr;
      }
      .poster-bottom {
        grid-template-columns: 1fr;
      }
    }

    /* ===== Poster modal ===== */
    .poster-modal-backdrop {
      display: none; position: fixed; inset: 0; z-index: 9999;
      background: rgba(0,0,0,0.85); align-items: center; justify-content: center;
    }
    .poster-modal-frame {
      position: relative; width: 96vw; max-width: 1400px;
      max-height: 96vh; background: #fff; border-radius: 12px;
      overflow: hidden; box-shadow: 0 30px 60px rgba(0,0,0,0.4);
      display: flex; flex-direction: column;
    }
    .poster-modal-header {
      background: var(--primary); color: #fff;
      padding: 0.6rem 1.5rem; display: flex;
      justify-content: space-between; align-items: center; flex-shrink: 0;
      gap: 0.75rem; flex-wrap: wrap;
    }
    .poster-modal-header .poster-modal-title { font-weight: 700; font-size: 1.1rem; }
    .poster-modal-actions { display: flex; align-items: center; gap: 0.5rem; }
    .poster-modal-actions button {
      background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.3);
      color: #fff; padding: 0.4rem 0.9rem; border-radius: 6px;
      font-size: 0.85rem; cursor: pointer; font-weight: 500;
      transition: background 150ms;
    }
    .poster-modal-actions button:hover { background: rgba(255,255,255,0.25); }
    .poster-modal-close {
      background: none !important; border: none !important;
      font-size: 1.8rem; cursor: pointer; line-height: 1;
      padding: 0 0.25rem !important; opacity: 0.8;
    }
    .poster-modal-close:hover { opacity: 1; }
    .poster-modal-body {
      flex: 1; overflow-y: auto; padding: 1.5rem;
      display: flex; justify-content: center; align-items: flex-start;
    }

    /* Editable poster inside modal — override base .poster aspect-ratio */
    .poster-modal-body .poster {
      aspect-ratio: auto !important;
      height: auto !important;
      max-width: 1200px; width: 100%;
      position: relative;
      overflow: visible;
    }
    .poster-input {
      width: 100%; padding: 0.4rem 0.6rem;
      border: 1px solid #cbd5e1; border-radius: 6px;
      font-family: 'Inter', sans-serif; font-size: 0.85rem;
      transition: border-color 150ms, box-shadow 150ms;
      background: rgba(255,255,255,0.7);
    }
    .poster-input:focus {
      outline: none; border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(30,58,95,0.12);
    }
    .poster-input::placeholder { color: #94a3b8; font-style: italic; }
    textarea.poster-input { resize: vertical; min-height: 48px; }
    .poster-vraag textarea.poster-input { min-height: 60px; font-size: 0.95rem; }

    /* Post-its */
    .postit {
      position: absolute; min-width: 100px; max-width: 200px;
      padding: 0.6rem 0.75rem; border-radius: 3px;
      box-shadow: 2px 3px 8px rgba(0,0,0,0.18);
      font-family: 'Inter', sans-serif; font-size: 0.8rem;
      cursor: grab; user-select: none; z-index: 10;
      line-height: 1.4;
    }
    .postit:active { cursor: grabbing; }
    .postit-text {
      outline: none; min-height: 1.2em;
      cursor: text; user-select: text;
    }
    .postit-text:empty::before {
      content: 'Typ hier...'; color: rgba(0,0,0,0.3); font-style: italic;
    }
    .postit-delete {
      position: absolute; top: 2px; right: 4px;
      background: none; border: none; font-size: 1rem;
      cursor: pointer; opacity: 0; transition: opacity 150ms;
      color: rgba(0,0,0,0.4); line-height: 1; padding: 0;
    }
    .postit:hover .postit-delete { opacity: 1; }
    .postit-delete:hover { color: rgba(0,0,0,0.7); }

    /* Post-it color picker */
    .postit-colors { display: flex; gap: 0.35rem; align-items: center; }
    .postit-color-dot {
      width: 22px; height: 22px; border-radius: 50%; cursor: pointer;
      border: 2px solid rgba(255,255,255,0.5); transition: transform 150ms;
    }
    .postit-color-dot:hover { transform: scale(1.2); }

    /* Preview card */
    .poster-preview-card {
      max-width: 800px; margin: 0 auto;
      background: #fdf8ef; border: 2px solid #c4a96a; border-radius: 12px;
      padding: 2rem; text-align: center;
      cursor: pointer; transition: box-shadow 150ms, transform 150ms;
    }
    .poster-preview-card:hover {
      box-shadow: 0 4px 16px rgba(120,100,60,0.18);
      transform: translateY(-2px);
    }

    @media (max-width: 700px) {
      .poster-modal-frame {
        width: 100vw; height: 100vh; max-height: 100vh;
        border-radius: 0;
      }
      .poster-modal-body {
        padding: 0.75rem;
      }
      .poster-modal-body .poster {
        padding: 1rem;
        font-size: 0.82rem;
      }
      .poster-modal-body .poster-bronnen {
        grid-template-columns: 1fr;
      }
      .poster-modal-body .poster-bottom {
        grid-template-columns: 1fr;
      }
      .poster-modal-header {
        padding: 0.5rem 0.75rem;
        flex-direction: column; align-items: stretch;
        gap: 0.4rem;
      }
      .poster-modal-actions {
        flex-wrap: wrap; gap: 0.4rem;
        justify-content: flex-end;
      }
      .poster-modal-actions button {
        padding: 0.35rem 0.65rem; font-size: 0.78rem;
      }
      .postit-colors {
        flex-wrap: wrap;
      }
      .postit-color-dot {
        width: 18px; height: 18px;
      }
      .poster-input {
        font-size: 0.8rem; padding: 0.35rem 0.5rem;
      }
      .poster-vraag textarea.poster-input {
        min-height: 50px; font-size: 0.85rem;
      }
      .poster-modal-body .poster-header input.poster-input {
        width: 100% !important;
      }
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <a href="../index.html" class="navbar-brand">Workshop Onderzoekend Vermogen</a>
    <ul class="navbar-links">
      <li><a href="../index.html" class="nav-link">&larr; Workshop</a></li>
      <li><a href="rangschik/" class="nav-link">Rangschik de Vraag</a></li>
      <li><a href="vraagkliniek/" class="nav-link">De Vraagkliniek</a></li>
      <li><a href="vraagbouwer/" class="nav-link">De Vraagbouwer</a></li>
    </ul>
  </nav>

  <header class="page-header">
    <h1>Blok 0 — Micro-instructie + Interactieve oefeningen</h1>
    <p>20 minuten | Pijler: onderzoek + kennis | Purpose + Mastery</p>
  </header>

  <main class="container">

    <div class="card mt-3 mb-3" style="border-left: 4px solid var(--primary);">
      <h3 class="mb-1" style="color: var(--primary);">Micro-instructie: Onderzoekend Vermogen</h3>
      <p style="color: var(--text-secondary); line-height: 1.7;">
        De docent presenteert <strong>onderzoekend vermogen</strong> als kapstok voor de workshop.
        De twee pijlers:
      </p>
      <ul style="color: var(--text-secondary); line-height: 1.9; margin: 0.75rem 0 0.75rem 1.5rem;">
        <li><strong>Onderzoek doen</strong> — systematisch een vraag formuleren</li>
        <li><strong>Kennis toepassen</strong> — bronnen raadplegen (literatuur, video, AI)</li>
      </ul>
      <p style="color: var(--text-secondary); line-height: 1.7;">
        Je ziet een voorbeeld van hoe een oppervlakkige opdracht leidt tot een diepere onderzoeksvraag,
        het verband <strong>probleemstelling &rarr; doelstelling &rarr; hoofdvraag</strong>,
        en het contrast tussen <strong>eindig</strong> en <strong>oneindig</strong> denken.
        Zie ook de tutorial
        <a href="https://businessdatasolutions.github.io/emergent-strategy-tutorial/" target="_blank" rel="noopener">Van Klassieke naar Organische Strategie</a>
        voor de achtergrond bij dit onderscheid.
      </p>

      <!-- ===== Trigger button for slide modal ===== -->
      <div style="margin-top: 1.5rem; text-align: center;">
        <button onclick="document.getElementById('slide-modal').style.display='flex'; slideGoTo(0);" class="btn btn-primary" style="padding: 0.75rem 1.5rem; font-size: 1rem;">
          Bekijk voorbeeld: de vraag achter de vraag &rarr;
        </button>
      </div>

      <!-- ===== Modal Slidedeck: De vraag achter de vraag ===== -->
      <style>
        .slide-modal-backdrop {
          display: none; position: fixed; inset: 0; z-index: 9999;
          background: rgba(0,0,0,0.85); align-items: center; justify-content: center;
        }
        /* 16:9 slide frame */
        .slide-frame {
          position: relative; width: 92vw; max-width: 1400px;
          aspect-ratio: 16 / 9; background: #fff; border-radius: 12px;
          overflow: hidden; box-shadow: 0 30px 60px rgba(0,0,0,0.4);
          display: flex; flex-direction: column;
        }
        .slide-header {
          background: var(--primary); color: #fff;
          padding: 0.8rem 2rem; display: flex;
          justify-content: space-between; align-items: center; flex-shrink: 0;
        }
        .slide-header .slide-title { font-weight: 700; font-size: 1.15rem; }
        .slide-close {
          background: none; border: none; color: #fff;
          font-size: 1.8rem; cursor: pointer; line-height: 1; padding: 0 0.25rem; opacity: 0.8;
        }
        .slide-close:hover { opacity: 1; }
        .slide-body {
          flex: 1; position: relative; overflow: hidden;
        }
        .slide {
          position: absolute; inset: 0;
          padding: 5% 8%; display: flex; flex-direction: column; justify-content: center;
        }
        .slide[data-active="false"] { display: none; }
        .slide h2 {
          color: var(--primary); font-size: 2.2rem; font-weight: 700;
          margin-bottom: 1.5rem; letter-spacing: -0.02em;
        }
        .slide .slide-quote {
          background: var(--primary-50); border-left: 6px solid var(--warning);
          padding: 1.5rem 2rem; border-radius: 0 12px 12px 0;
          font-size: 1.6rem; line-height: 1.6; color: var(--text-dark); font-style: italic;
        }
        .slide .slide-quote-green {
          background: var(--success-light); border-left: 6px solid var(--success);
          padding: 1.5rem 2rem; border-radius: 0 12px 12px 0;
          font-size: 1.6rem; line-height: 1.6; color: var(--text-dark); font-style: italic;
        }
        .slide .slide-subtitle {
          color: var(--text-secondary); font-size: 1.2rem; line-height: 1.7; margin-top: 1.5rem;
        }
        .slide .slide-subtitle strong { color: var(--text-dark); }
        .slide .dig-card {
          background: var(--primary-50); padding: 1.5rem 2rem; border-radius: 12px;
        }
        .slide .dig-card strong {
          color: var(--primary); font-size: 1.3rem; display: block; margin-bottom: 0.4rem;
        }
        .slide .dig-card p {
          color: var(--text-dark); font-size: 1.15rem; line-height: 1.6;
        }
        .slide-nav {
          background: var(--surface); border-top: 1px solid var(--border);
          padding: 0.75rem 2rem; display: flex;
          justify-content: space-between; align-items: center; flex-shrink: 0;
        }
        .slide-nav .slide-dots { display: flex; gap: 0.6rem; }
        .slide-nav .slide-dot {
          width: 12px; height: 12px; border-radius: 50%; cursor: pointer;
          transition: background 150ms, transform 150ms;
        }
        .slide-nav .slide-dot:hover { transform: scale(1.2); }
        /* Table slide */
        .slide-table { width: 100%; border-collapse: collapse; color: var(--text-dark); font-size: 1.15rem; line-height: 1.6; }
        .slide-table th {
          text-align: left; padding: 0.75rem 1.25rem; font-size: 1rem;
          text-transform: uppercase; letter-spacing: 0.04em; font-weight: 600;
        }
        .slide-table td { padding: 1rem 1.25rem; vertical-align: top; }
        .slide-table tbody tr:not(:last-child) td { border-bottom: 1px solid var(--border); }
      </style>

      <div id="slide-modal" class="slide-modal-backdrop">
        <div class="slide-frame">

          <!-- Header -->
          <div class="slide-header">
            <span class="slide-title">De vraag achter de vraag</span>
            <div style="display:flex; align-items:center; gap:1.25rem;">
              <span id="slide-counter" style="font-size:0.9rem; opacity:0.8;">1 / 4</span>
              <button class="slide-close" onclick="document.getElementById('slide-modal').style.display='none';" title="Sluiten">&times;</button>
            </div>
          </div>

          <!-- Slides -->
          <div class="slide-body">

            <!-- Slide 1 -->
            <div class="slide" data-slide="0" data-active="true">
              <h2>Oppervlakkige opdracht (eindig)</h2>
              <div class="slide-quote">
                &ldquo;Ontwerp een onboardingprogramma voor nieuwe medewerkers bij bedrijf&nbsp;X.&rdquo;
              </div>
              <p class="slide-subtitle">Dit klinkt concreet, maar levert alleen een document op. Wat is de <strong>vraag achter de vraag</strong>?</p>
            </div>

            <!-- Slide 2 -->
            <div class="slide" data-slide="1" data-active="false">
              <h2>Graaf dieper met twee vragen</h2>
              <div style="display:flex; flex-direction:column; gap:1.25rem;">
                <div class="dig-card">
                  <strong>Wie ervaart het probleem eigenlijk?</strong>
                  <p>Niet HR, maar de <em>teamleiders</em> die steeds opnieuw mensen inwerken terwijl het verloop hoog is.</p>
                </div>
                <div class="dig-card">
                  <strong>Wat verandert er concreet in de organisatie?</strong>
                  <p>Niet alleen een programma, maar ook hoe teams samenwerken, kennis delen en nieuwe collega&rsquo;s integreren.</p>
                </div>
              </div>
            </div>

            <!-- Slide 3 -->
            <div class="slide" data-slide="2" data-active="false">
              <h2>Diepere onderzoeksvraag (oneindig)</h2>
              <div class="slide-quote-green">
                &ldquo;Hoe kan organisatie X haar teamleiders ondersteunen bij het cre&euml;ren van een leeromgeving waarin nieuwe medewerkers sneller zelfstandig bijdragen?&rdquo;
              </div>
              <p class="slide-subtitle">
                Dit verschuift van <strong>ontwerp</strong> (een document of schema opleveren)
                naar <strong>inrichting</strong> (het geheel van aanpassingen aan structuren, systemen, cultuur en menselijk kapitaal).
              </p>
            </div>

            <!-- Slide 4 -->
            <div class="slide" data-slide="3" data-active="false">
              <h2>Meer voorbeelden</h2>
              <table class="slide-table">
                <thead>
                  <tr>
                    <th style="border-bottom:3px solid var(--warning); color:var(--warning); width:45%;">Oppervlakkig (ontwerp)</th>
                    <th style="border-bottom:3px solid var(--success); color:var(--success);">Dieper (inrichting)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>&ldquo;Maak een communicatieplan voor de verandering&rdquo;</td>
                    <td>&ldquo;Hoe kan afdeling Y betrokkenheid cre&euml;ren bij medewerkers die weerstand ervaren tegen de digitalisering?&rdquo;</td>
                  </tr>
                  <tr>
                    <td>&ldquo;Schrijf een adviesrapport over duurzaamheid&rdquo;</td>
                    <td>&ldquo;Welke organisatorische condities stellen MKB-bedrijf Z in staat om duurzame praktijken structureel te verankeren in de dagelijkse operatie?&rdquo;</td>
                  </tr>
                </tbody>
              </table>
            </div>

          </div>

          <!-- Navigation -->
          <div class="slide-nav">
            <button id="slide-prev" onclick="slideNav(-1)" class="btn btn-secondary" style="padding:0.5rem 1.25rem;" disabled>&larr; Vorige</button>
            <div id="slide-dots" class="slide-dots"></div>
            <button id="slide-next" onclick="slideNav(1)" class="btn btn-primary" style="padding:0.5rem 1.25rem;">Volgende &rarr;</button>
          </div>

        </div>
      </div>

      <script>
      (function() {
        var current = 0;
        var slides = document.querySelectorAll('#slide-modal .slide');
        var total = slides.length;
        var dotsEl = document.getElementById('slide-dots');

        for (var i = 0; i < total; i++) {
          var dot = document.createElement('span');
          dot.className = 'slide-dot';
          dot.dataset.index = i;
          dot.addEventListener('click', function() { slideGoTo(parseInt(this.dataset.index)); });
          dotsEl.appendChild(dot);
        }

        window.slideGoTo = function(n) {
          slides[current].setAttribute('data-active', 'false');
          current = n;
          slides[current].setAttribute('data-active', 'true');
          document.getElementById('slide-counter').textContent = (current + 1) + ' / ' + total;
          document.getElementById('slide-prev').disabled = current === 0;
          document.getElementById('slide-next').disabled = current === total - 1;
          var dots = dotsEl.children;
          for (var i = 0; i < dots.length; i++) {
            dots[i].style.background = i === current ? 'var(--primary)' : 'var(--border)';
          }
        };

        window.slideNav = function(dir) { slideGoTo(current + dir); };

        document.getElementById('slide-modal').addEventListener('click', function(e) {
          if (e.target === this) this.style.display = 'none';
        });

        document.addEventListener('keydown', function(e) {
          var modal = document.getElementById('slide-modal');
          if (modal.style.display === 'none' || modal.style.display === '') return;
          if (e.key === 'Escape') modal.style.display = 'none';
          if (e.key === 'ArrowRight' && current < total - 1) slideGoTo(current + 1);
          if (e.key === 'ArrowLeft' && current > 0) slideGoTo(current - 1);
        });

        slideGoTo(0);
      })();
      </script>
    </div>

    <!-- ===== Poster preview + modal ===== -->
    <h2 class="text-center mb-1">Onderzoeksposter</h2>
    <p class="text-center text-muted mb-3">Vul de poster digitaal in en download als afbeelding.</p>

    <div class="poster-preview-card mb-6" style="margin-bottom: 3rem;" onclick="document.getElementById('poster-modal').style.display='flex';">
      <div style="font-size: 2.5rem; margin-bottom: 0.75rem;">&#x1F4CB;</div>
      <h3 style="color: #1e3a5f; margin-bottom: 0.5rem;">Open de onderzoeksposter</h3>
      <p style="color: #6b5c3e; font-size: 0.9rem; margin-bottom: 1rem;">Klik om de poster te openen, in te vullen en te downloaden als PNG.</p>
      <span class="btn btn-primary" style="pointer-events: none;">Open poster &rarr;</span>
    </div>

    <!-- ===== Poster Modal ===== -->
    <div id="poster-modal" class="poster-modal-backdrop">
      <div class="poster-modal-frame">

        <!-- Header -->
        <div class="poster-modal-header">
          <span class="poster-modal-title">Onderzoeksposter</span>
          <div class="poster-modal-actions">
            <div class="postit-colors" id="postit-colors">
              <button onclick="addPostit('#fef08a')" title="Gele post-it">&#43; Post-it</button>
              <span class="postit-color-dot" style="background:#fef08a;" onclick="addPostit('#fef08a')" title="Geel"></span>
              <span class="postit-color-dot" style="background:#fda4af;" onclick="addPostit('#fda4af')" title="Roze"></span>
              <span class="postit-color-dot" style="background:#86efac;" onclick="addPostit('#86efac')" title="Groen"></span>
              <span class="postit-color-dot" style="background:#93c5fd;" onclick="addPostit('#93c5fd')" title="Blauw"></span>
            </div>
            <button onclick="downloadPoster()" title="Download als PNG">&#x2B73; Download PNG</button>
            <button onclick="resetPoster()" title="Wis alle velden en post-its">&#x21BB; Reset</button>
            <button class="poster-modal-close" onclick="document.getElementById('poster-modal').style.display='none';" title="Sluiten">&times;</button>
          </div>
        </div>

        <!-- Body -->
        <div class="poster-modal-body">
          <div class="poster" id="poster-canvas">

            <div class="poster-header">
              <span class="poster-field">Duo: <input type="text" class="poster-input" data-field="duo" placeholder="Jullie namen" style="width: 250px; display: inline-block;"></span>
            </div>

            <div class="poster-sectie-label">
              <span class="blok-tag">Blok 0</span>
              Onderzoeksvraag
            </div>
            <div class="poster-vraag">
              <textarea class="poster-input" data-field="vraag" placeholder="Schrijf hier jullie hoofdvraag. Pas deze aan als bronnen nieuwe inzichten opleveren." rows="2"></textarea>
            </div>

            <div class="poster-sectie-label">
              <span class="blok-tag">Blok 1</span>
              Bronverkenning &mdash; plak hier je drie belangrijkste bronnen
            </div>
            <div class="poster-bronnen">
              <div class="poster-bron">
                <div class="poster-bron-nr">Bron 1</div>
                <input type="text" class="poster-input" data-field="bron1-titel" placeholder="Titel">
                <textarea class="poster-input" data-field="bron1-inzicht" placeholder="Kerninzicht" rows="2"></textarea>
                <textarea class="poster-input" data-field="bron1-link" placeholder="Link met mijn vraag" rows="2"></textarea>
              </div>
              <div class="poster-bron">
                <div class="poster-bron-nr">Bron 2</div>
                <input type="text" class="poster-input" data-field="bron2-titel" placeholder="Titel">
                <textarea class="poster-input" data-field="bron2-inzicht" placeholder="Kerninzicht" rows="2"></textarea>
                <textarea class="poster-input" data-field="bron2-link" placeholder="Link met mijn vraag" rows="2"></textarea>
              </div>
              <div class="poster-bron">
                <div class="poster-bron-nr">Bron 3</div>
                <input type="text" class="poster-input" data-field="bron3-titel" placeholder="Titel">
                <textarea class="poster-input" data-field="bron3-inzicht" placeholder="Kerninzicht" rows="2"></textarea>
                <textarea class="poster-input" data-field="bron3-link" placeholder="Link met mijn vraag" rows="2"></textarea>
              </div>
            </div>

            <div class="poster-bottom">
              <div class="poster-box">
                <div class="poster-sectie-label" style="margin-bottom: 0.3rem;">
                  <span class="blok-tag">Blok 1</span>
                  Inzichten
                </div>
                <textarea class="poster-input" data-field="inzichten" placeholder="Wat verandert er aan je vraag na bronverkenning?" rows="3"></textarea>
              </div>
              <div class="poster-box">
                <div class="poster-sectie-label" style="margin-bottom: 0.3rem;">
                  <span class="blok-tag">Blok 3</span>
                  Reflectie
                </div>
                <textarea class="poster-input" data-field="reflectie" placeholder="Welke pijler groeide het meest: onderzoek doen of kennis toepassen? Volgende stap richting PvA?" rows="3"></textarea>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
    (function() {
      var STORAGE_KEY = 'poster-data';
      var modal = document.getElementById('poster-modal');
      var posterCanvas = document.getElementById('poster-canvas');

      // --- Modal open/close ---
      modal.addEventListener('click', function(e) {
        if (e.target === this) this.style.display = 'none';
      });
      document.addEventListener('keydown', function(e) {
        if (modal.style.display === 'none' || modal.style.display === '') return;
        if (e.key === 'Escape') modal.style.display = 'none';
      });

      // --- localStorage: save ---
      function getPostits() {
        return Array.from(posterCanvas.querySelectorAll('.postit')).map(function(p) {
          return {
            color: p.style.background,
            left: p.style.left,
            top: p.style.top,
            transform: p.style.transform,
            text: p.querySelector('.postit-text').textContent
          };
        });
      }

      function saveData() {
        var data = {};
        posterCanvas.querySelectorAll('.poster-input[data-field]').forEach(function(el) {
          data[el.dataset.field] = el.value;
        });
        data.postits = getPostits();
        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
      }

      var saveTimer;
      function debouncedSave() {
        clearTimeout(saveTimer);
        saveTimer = setTimeout(saveData, 500);
      }

      posterCanvas.addEventListener('input', debouncedSave);

      // --- Post-it functionality ---
      window.addPostit = function(color, opts) {
        opts = opts || {};
        var rotation = opts.transform || ('rotate(' + (Math.random() * 4 - 2).toFixed(1) + 'deg)');
        var postit = document.createElement('div');
        postit.className = 'postit';
        postit.style.background = color;
        postit.style.transform = rotation;
        postit.style.left = opts.left || (10 + Math.random() * 30) + '%';
        postit.style.top = opts.top || (10 + Math.random() * 30) + '%';
        postit.innerHTML = '<button class="postit-delete">&times;</button>' +
          '<div class="postit-text" contenteditable="true"></div>';

        if (opts.text) postit.querySelector('.postit-text').textContent = opts.text;

        // Delete with save
        postit.querySelector('.postit-delete').addEventListener('click', function() {
          postit.remove();
          saveData();
        });

        // Drag functionality
        var isDragging = false, startX, startY, origX, origY;

        postit.addEventListener('pointerdown', function(e) {
          if (e.target.classList.contains('postit-text') || e.target.classList.contains('postit-delete')) return;
          isDragging = true;
          startX = e.clientX;
          startY = e.clientY;
          origX = postit.offsetLeft;
          origY = postit.offsetTop;
          postit.setPointerCapture(e.pointerId);
          e.preventDefault();
        });

        postit.addEventListener('pointermove', function(e) {
          if (!isDragging) return;
          postit.style.left = (origX + e.clientX - startX) + 'px';
          postit.style.top = (origY + e.clientY - startY) + 'px';
        });

        postit.addEventListener('pointerup', function() {
          if (isDragging) { isDragging = false; saveData(); }
        });

        posterCanvas.appendChild(postit);
        if (!opts.text) postit.querySelector('.postit-text').focus();
        if (!opts._restoring) debouncedSave();
      };

      // --- localStorage: restore ---
      function loadData() {
        var raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) return;
        try {
          var data = JSON.parse(raw);
          posterCanvas.querySelectorAll('.poster-input[data-field]').forEach(function(el) {
            if (data[el.dataset.field] != null) el.value = data[el.dataset.field];
          });
          if (data.postits && data.postits.length) {
            data.postits.forEach(function(p) {
              addPostit(p.color, { left: p.left, top: p.top, transform: p.transform, text: p.text, _restoring: true });
            });
          }
        } catch(e) {}
      }
      loadData();

      // --- PNG Download ---
      window.downloadPoster = function() {
        var deleteBtns = posterCanvas.querySelectorAll('.postit-delete');
        deleteBtns.forEach(function(btn) { btn.style.display = 'none'; });

        html2canvas(posterCanvas, {
          scale: 2,
          useCORS: true,
          backgroundColor: '#fdf8ef'
        }).then(function(canvas) {
          deleteBtns.forEach(function(btn) { btn.style.display = ''; });
          canvas.toBlob(function(blob) {
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = 'onderzoeksposter.png';
            a.click();
            URL.revokeObjectURL(url);
          });
        }).catch(function() {
          deleteBtns.forEach(function(btn) { btn.style.display = ''; });
        });
      };

      // --- Reset ---
      window.resetPoster = function() {
        if (!confirm('Weet je zeker dat je alle velden en post-its wilt wissen?')) return;
        posterCanvas.querySelectorAll('.poster-input[data-field]').forEach(function(el) {
          el.value = '';
        });
        posterCanvas.querySelectorAll('.postit').forEach(function(p) { p.remove(); });
        localStorage.removeItem(STORAGE_KEY);
      };
    })();
    </script>

    <h2 class="text-center mb-1">Check-in: De Vraagbouwer</h2>
    <p class="text-center text-muted mb-3">Doorloop de oefeningen om je startpunt te inventariseren</p>

    <div class="card-grid">

      <div class="card">
        <div class="text-center mb-2" style="font-size: 2.5rem;">&#x1F0CF;</div>
        <h3 class="mb-1">1. Rangschik de Vraag</h3>
        <p class="text-muted mb-1" style="font-size: 0.95rem;">Activering zonder voorkennis</p>
        <p class="mb-2">
          Sleep vier versies van dezelfde onderzoeksvraag in volgorde van slechtst naar best.
          Ontdek zelf wat een goede vraag maakt.
        </p>
        <div class="mb-2">
          <span class="badge badge-green">Instapdrempel: laag</span>
        </div>
        <a href="rangschik/" class="btn btn-primary">Starten &rarr;</a>
      </div>

      <div class="card">
        <div class="text-center mb-2" style="font-size: 2.5rem;">&#x1F3E5;</div>
        <h3 class="mb-1">2. De Vraagkliniek</h3>
        <p class="text-muted mb-1" style="font-size: 0.95rem;">Diagnose &amp; Verdieping</p>
        <p class="mb-2">
          Analyseer de vier dimensies van een vraag: Actor, Werkwoord, Waardecreatie en Eindig/Oneindig.
          Herstel de aandoening stap voor stap.
        </p>
        <div class="mb-2">
          <span class="badge badge-orange">Na: Rangschik de Vraag</span>
        </div>
        <a href="vraagkliniek/" class="btn btn-primary">Starten &rarr;</a>
      </div>

      <div class="card">
        <div class="text-center mb-2" style="font-size: 2.5rem;">&#x1F527;</div>
        <h3 class="mb-1">3. De Vraagbouwer</h3>
        <p class="text-muted mb-1" style="font-size: 0.95rem;">Bouw je eigen vraag</p>
        <p class="mb-2">
          Stel je eigen ontwerpende onderzoeksvraag samen uit drie bouwstenen en krijg directe
          live feedback op kwaliteit en signaalwoorden.
        </p>
        <div class="mb-2">
          <span class="badge badge-orange">Transfer naar eigen PvA</span>
        </div>
        <a href="vraagbouwer/" class="btn btn-primary">Starten &rarr;</a>
      </div>

    </div>

    <div class="text-center mt-4 mb-4" style="display: flex; gap: 1rem; justify-content: center;">
      <a href="../index.html" class="btn btn-secondary">&larr; Workshop</a>
      <a href="../blok1-werksessie/" class="btn btn-primary">Blok 1: Werksessie &rarr;</a>
    </div>

  </main>

  <footer class="text-center text-muted mt-4 mb-4" style="font-size: 0.9rem;">
    STRA0R23-OND &mdash; Workshop Onderzoekend Vermogen | HBO Bedrijfskunde
  </footer>

</body>
</html>
